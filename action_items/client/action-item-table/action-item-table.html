<template name="classActionItemTable">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Description</th>
        <th>Created By</th>
        <th>Date Created</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {{#each classActionItems this}}
        <tr id="ai{{_id}}" class="action-item-row {{getTableRowClass}}">
          <td class="actionItemColumns">{{description}}</td>
          <td class="actionItemColumns">{{getCreatedByUser}}</td>
          <td class="actionItemColumns">{{formatDate createdAt "MMM DD, YYYY"}}</td>
          <td class="actionItemColumns"><button type="button" title="Complete Action Item" class="btn btn-success btn-circular btn-sm complete-action-item"><span class="glyphicon glyphicon-check"></span></button><button type="button" title="Remove Action Item" class="btn btn-danger btn-circular btn-sm delete-action-item"><span class="glyphicon glyphicon-trash"></span></button></td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</template>

<template name="completedActionItemTable">
  <table class="table table-striped">
    <thead>
      <tr>
        <th> Description</th>
        <th> Created By</th>
        <th> Date Created</th>
        <th> Type</th>
        <th> Completed By</th>
        <th> Date Completed</th>
      </tr>
    </thead>
    <tbody>
      {{#each completedActionItems}}
        <tr id="ai{{_id}}" class="action-item-row {{getTableRowClass}}">
          <td class="actionItemColumns">{{description}}</td>
          <td class="actionItemColumns">{{getCreatedByUser}}</td>
          <td class="actionItemColumns">{{formatDate createdAt "MMM DD, YYYY"}}</td>
          <td class="capitalize actionItemColumns">{{toLower type}}</td>
          <td class="actionItemColumns">{{getCompletedByUser}}</td>
          <td class="actionItemColumns">{{formatDate completedAt "MMM DD, YYYY"}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</template>

<template name="actionItemTableChooser">
  {{#if isNotCompleted this}}
    {{>classActionItemTable this}}
  {{else}}
    {{>completedActionItemTable}}
  {{/if}}
</template>